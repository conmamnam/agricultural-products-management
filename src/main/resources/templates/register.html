<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Đăng ký tài khoản</title>
    <link rel="icon" type="image/png" href="/image/logo-web.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link th:href="@{/css/register.css}" rel="stylesheet">
</head>
<body>

<div class="register-container">
    <h2>Đăng ký tài khoản</h2>

    <form th:action="@{/register}" th:object="${user}" method="post">

        <div class="form-group">
            <label for="phoneNumber">Số điện thoại:</label>
            <input type="text" id="phoneNumber" th:field="*{phoneNumber}" class="form-control"
                   placeholder="Số điện thoại của bạn"/>
            <span th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="email">Địa chỉ email:</label>
            <input type="email" id="email" th:field="*{email}" class="form-control"
                   placeholder="Địa chỉ email của bạn"/>
            <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="userFullName">Họ tên:</label>
            <input type="text" id="userFullName" th:field="*{fullName}" class="form-control"
                   placeholder="Họ và tên đầy đủ"/>
            <span th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="password">Mật khẩu:</label>
            <input type="password" id="password" th:field="*{password}" class="form-control"
                   placeholder="Mật khẩu từ 8 ký tự trở lên"/>
            <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="address">Địa chỉ:</label>
            <input type="text" id="address" th:field="*{address}" class="form-control"
                   placeholder="Địa chỉ của bạn"/>
            <span th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="text-danger"></span>
        </div>

        <!-- Thông báo lỗi riêng (VD: Số điện thoại đã tồn tại) -->
        <div th:if="${phoneNumberExist != null}" class="text-danger mt-2" th:text="${phoneNumberExist}"></div>
        <div th:if="${error != null}" class="text-danger mt-2" th:text="${error}"></div>

        <button type="submit">Đăng ký</button>
    </form>

    <p class="mt-3">Đã có tài khoản?
        <a href="/login" class="text-success">Đăng nhập ngay</a>
    </p>
</div>

</body>
</html>
